@model Restaurator.ViewModels.PageViewModel
@inject IAuth Auth

@{
    ViewData["Title"] = Model.Place.NamePt1;
}

<div class="page-content">
    <!-- NAV + TOP PART OF PAGE -->
    <section>
        <div class="background-img-container">
            <div class="background-img" style="background-image: url(../../img/Places/@Model.Place.TopSectionImage);">
                <!-- NAV -->
                <section id="nav-bar" class="nav-bar">
                    <div class="container">
                        <div class="nav">
                            <div class="logo col-sm-12 col-md-5 col-lg-2">
                                <h1><a asp-controller="Places" asp-action="index">Restaurator</a></h1>
                            </div>
                            <!-- NAV DESKTOP -->
                            <div class="nav-menu nav-desktop col-sm-12 col-md-7 col-lg-5">
                                <ul>
                                    <li><a asp-controller="Places" asp-action="index">Home</a></li>
                                    <li><a href="#reservation">Reservation</a></li>
                                    <li><a href="#contacts">Contacts</a></li>
                                    @if (Auth.User == null)
                                    {
                                        <li><a asp-controller="Register" asp-action="index">Register</a></li>
                                        <li><a asp-controller="Login" asp-action="index">Login</a></li>
                                    }
                                    @if (Auth.User != null)
                                    {
                                        <li>
                                            <a><i class="fa fa-user mr-1"></i> <span>@Auth.User.Fullname</span></a>
                                        </li>
                                        <li>
                                            <a asp-controller="Login" asp-action="logout"><i class="dropdown-icon icon icon-power mr-1"></i><span>Log Out</span></a>
                                        </li>
                                    }
                                    <li>
                                        <a href="@Html.DisplayFor(model => model.Place.InstaLink)">
                                            <i class="fab fa-instagram"></i>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="@Html.DisplayFor(model => model.Place.FbLink)">
                                            <i class="fab fa-facebook-f"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <!-- NAV DESKTOP -->
                            <!-- NAV MOBILE -->
                            <i class="nav-icon material-icons">dehaze</i>
                            <div class="nav-menu nav-mobile col-sm-12 col-md-7 col-lg-5">
                                <ul>
                                    <li><a asp-controller="Places" asp-action="index">Home</a></li>
                                    <li><a href="#reservation">Reservation</a></li>
                                    <li><a href="#contacts">Contacts</a></li>
                                    @if (Auth.User == null)
                                    {
                                        <li><a asp-controller="Register" asp-action="index">Register</a></li>
                                        <li><a asp-controller="Login" asp-action="index">Login</a></li>
                                    }
                                    @if (Auth.User != null)
                                    {
                                        <li>
                                            <a><i class="fa fa-user mr-1"></i> <span>@Auth.User.Fullname</span></a>
                                        </li>
                                        <li>
                                            <a asp-controller="Login" asp-action="logout"><i class="dropdown-icon icon icon-power mr-1"></i><span>Log Out</span></a>
                                        </li>
                                    }
                                    <li>
                                        <a href="@Html.DisplayFor(model => model.Place.InstaLink)">
                                            <i class="fab fa-instagram"></i>
                                        </a><a href="@Html.DisplayFor(model => model.Place.FbLink)">
                                            <i class="fab fa-facebook-f"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <!-- NAV MOBILE -->
                        </div>
                    </div>
                </section>
                <!-- NAV -->

                <div class="margin-465"></div>

                <!-- PAGE TOP HEADING -->
                <div class="top-heading">
                    <h1 class="heading1" data-aos="fade-right" data-aos-duration="3000"
                        data-aos-easing="ease-in-out" data-aos-once="true">
                        @Html.DisplayFor(model => model.Place.NamePt1)
                    </h1>
                    @if (Model.Place.NamePt2 != null)
                    {
                        <h1 class="heading2" data-aos="fade-left" data-aos-duration="3000" data-aos-easing="ease-in-out"
                            data-aos-once="true">
                            @Html.DisplayFor(model => model.Place.NamePt2)
                        </h1>
                    }
                    <p class="baku" data-aos="fade-up" data-aos-duration="2000" data-aos-easing="ease-in-out"
                       data-aos-once="true">BAKU</p>
                </div>
                <!-- PAGE TOP HEADING -->
            </div>
        </div>
    </section>
    <div class="margin-75"></div>
    <!-- NAV + TOP PART OF PAGE -->
    <!-- WHAT WE CAN OFFER -->
    <section class="three-circles-withpic">
        <div class="container">
            <div class="section-heading" style="margin-top: -7px;">
                <h1>What We Can Offer</h1>
                <hr>
            </div>
            <div class="circles-options col-lg-12 col-md-12 col-sm-12">
                @if (Model != null)
                {
                    @foreach (PlaceInCirclePhoto photo in Model.Place.PlaceInCirclePhotos)
                    {
                        <div class="circles-option col-sm-12 col-md-10 col-lg-4" data-aos-duration="1200"
                             data-aos-easing="ease-in-out" data-aos-once="true" data-aos-anchor-placement="top-center">
                            <div class="circles-image">
                                <img src="~/img/Places/@photo.PhotoInCircle" alt="item">
                            </div>
                            <div class="circles-text">
                                <h1><span>@photo.CircleTextHeading1</span> @photo.CircleTextHeading2</h1>
                                <p>@photo.CircleText</p>
                            </div>

                        </div>
                    }
                }
            </div>
        </div>
    </section>
    <!-- WHAT WE CAN OFFER -->
    <!-- MEALS' PICTURES AND TEXT -->
    <section class="meals-pictures">
        <!-- GRID DESKTOP -->
        <div class="grid desktop col-lg-12 col-md-12">
            @if (Model != null)
            {
                @foreach (PlacePhoto photo in Model.Place.PlacePhotos)
                {
                    <div class="place col-lg-12 col-md-12">
                        <div class="place-image col-lg-6 col-md-6" data-aos-duration="1300"
                             data-aos-easing="ease-in-out" data-aos-once="true">
                            <img src="~/img/Places/@photo.Photo" alt="sandwiches">
                        </div>
                        <div class="place-info col-lg-6 col-md-6" data-aos-duration="1300"
                             data-aos-easing="ease-in-out" data-aos-once="true">
                            <div class="place-info-text">
                                <p>@photo.Text</p>
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
        <!-- GRID DESKTOP -->
        <!-- GRID MOBILE -->
        <div class="grid mobile col-md-12 col-sm-12">
            @if (Model != null)
            {
                @foreach (PlacePhoto photo in Model.Place.PlacePhotos)
                {
                    <div class="place col-md-12 col-sm-12">

                        <div class="place-info col-md-6 col-sm-12" data-aos-duration="1300"
                             data-aos-easing="ease-in-out" data-aos-once="true">
                            <div class="place-info-text">
                                <p>@photo.Text</p>
                            </div>
                        </div>
                        <div class="place-image col-md-6 col-sm-12" data-aos-duration="1300"
                             data-aos-easing="ease-in-out" data-aos-once="true">
                            <img src="~/img/Places/@photo.Photo" alt="sandwiches">
                        </div>
                    </div>
                }
            }
        </div>
        <!-- GRID MOBILE -->
    </section>
    <div class="margin-75"></div>
    <!-- MEALS' PICTURES AND TEXT -->
    <!-- BEST DISHES -->
    <section id="best-dishes" class="best-dishes">
        <div class="background-up"></div>
        <div class="menu-card col-lg-12">
            <div class="container">
                <div class="menu-card-container col-lg-11 col-md-10 col-sm-5">
                    <div class="menu-icon col-lg-1">
                        <img src="~/img/menu/menu-icon.png" alt="menu-icon">
                    </div>
                    <div class="section-heading" style="margin-top: -7px;">
                        <h1>Our Best Dishes</h1>
                        <hr>
                    </div>
                    <div class="menu-content col-lg-12 col-md-12 col-sm-12">
                        @if (Model != null)
                        {
                            @foreach (PlaceMenuItem menuItem in Model.Place.PlaceMenuItems)
                            {
                                <div class="menu-item col-lg-6 col-md-12 col-sm-12">
                                    <div class="dish-heading">
                                        <h2>@menuItem.ItemName</h2>
                                        <h2 class="price">@menuItem.ItemPrice₼</h2>
                                    </div>
                                    <hr>
                                    <div class="dish-text">
                                        <p>@menuItem.ItemDescription</p>
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- BEST DISHES -->
    <!-- RATING AND REVIEWS -->
    <section class="rating-and-reviews" id="reviews">
        <div class="container">
            <div class="section-heading" style="margin-top: -7px;">
                <h1>Rating And Reviews</h1>
                <hr>
            </div>
            <div class="rating-stars">
                <div class="stars">
                    @for (int i = 0; i < Model.Place.Rating; i++)
                    {
                        <span class="active-star">⭐</span>
                    }
                    @for (int i = 0; i < (5 - Model.Place.Rating); i++)
                    {
                        <span>☆</span>
                    }
                </div>
            </div>
            <div class="comments-section">
                @if (Model != null)
                {
                    @foreach (var item in Model.Place.Comments)
                    {
                        <div class="comment col-sm-12 col-md-12 col-lg-5">
                            <div class="user-texts">
                                <div class="upperpart-texts">
                                    <h5 class="username">@item.Username</h5>
                                    <div class="stars">
                                        @for (int i = 0; i < item.Rating; i++)
                                        {
                                            <span>★</span>
                                        }
                                        @for (int j = 0; j < (5 - item.Rating); j++)
                                        {
                                            <span>☆</span>
                                        }
                                    </div>
                                </div>
                                <div class="lowerpart-texts">
                                    <p>
                                        @item.CommentText
                                    </p>
                                </div>
                            </div>
                        </div>
                    }
                }
            </div>
            <div class="add-comment-section">
                <div id="comment-placeholder"></div>
                <div class="add-comment col-lg-6 col-sm-12">
                    @if (Auth.User == null)
                    {
                        <h6 class="log-message">Please <a asp-controller="Register" asp-action="index">Register</a> or <a asp-controller="Login" asp-action="index">Log in</a> to leave your comment!</h6>
                    }
                    @if (Auth.User != null)
                    {
                        <h5>Add your comment about this place...</h5>
                        <div class="comment-form">
                            <form asp-controller="Places" asp-action="AddComment" method="post">
                                <input type="hidden" asp-for="@Model.Comment.PlaceId" name="PlaceId" value="@Model.Place.Id" />
                                <textarea asp-for="@Model.Comment.CommentText" name="CommentText" placeholder="  Comment here..." maxlength="3000" cols="30" rows="10" required></textarea>
                                <div class="comment-btns">
                                    <div class="stars">
                                        <input asp-for="@Model.Comment.Rating" type="radio" id="star5" name="Rating" value="5" />
                                        <label for="star5" title="5">5 stars</label>
                                        <input asp-for="@Model.Comment.Rating" type="radio" id="star4" name="Rating" value="4" />
                                        <label for="star4" title="4">4 stars</label>
                                        <input asp-for="@Model.Comment.Rating" type="radio" id="star3" name="Rating" value="3" />
                                        <label for="star3" title="3">3 stars</label>
                                        <input asp-for="@Model.Comment.Rating" type="radio" id="star2" name="Rating" value="2" />
                                        <label for="star2" title="2">2 stars</label>
                                        <input asp-for="@Model.Comment.Rating" type="radio" id="star1" name="Rating" value="1" required />
                                        <label for="star1" title="1">1 star</label>
                                    </div>
                                    <button type="submit" id="submitComment">Add Comment</button>
                                </div>
                                <span id="msg"></span>
                            </form>
                        </div>
                    }
                </div>
            </div>
        </div>
    </section>
    <div class="margin-75"></div>
    <!-- RATING AND REVIEWS -->
    <!-- RESERVATION -->
    <section id="reservation" class="reservation">
        <div class="background-up"></div>
        <div class="reservation-card col-lg-12">
            <div class="container">
                <div class="reservation-card-container col-lg-11 col-md-11 col-sm-12">
                    <div class="section-heading">
                        <h1>Make a Reservation</h1>
                        <hr>
                    </div>
                    <div class="reservation-content">
                        <form class="reservation-form col-lg-10" asp-controller="Places" asp-action="MakeReservation" method="post">
                            <div class="form-row" id="row1">
                                <input type="hidden" asp-for="Reservation.PlaceId" name="PlaceId" value="@Model.Place.Id" />
                                <input type="text" asp-for="Reservation.Fullname" name="Fullname" placeholder="Full Name" required>
                                <input type="text" asp-for="Reservation.Phone" name="Phone" placeholder="Phone Number" required>
                            </div>
                            <div class="form-row" id="row2">
                                <input type="text" asp-for="Reservation.numOfPersons" name="numOfPersons" placeholder="Number of persons" required>
                                <input type="date" asp-for="Reservation.Date" name="Date" required>
                                <select asp-for="Reservation.Time" name="Time" required>
                                    <option value="">Time</option>
                                    <option value="09:00">09:00</option>
                                    <option value="09:30">09:30</option>
                                    <option value="10:00">10:00</option>
                                    <option value="10:30">10:30</option>
                                    <option value="11:00">11:00</option>
                                    <option value="11:30">11:30</option>
                                    <option value="12:00">12:00</option>
                                    <option value="12:30">12:30</option>
                                    <option value="13:00">13:00</option>
                                    <option value="13:30">13:30</option>
                                    <option value="14:00">14:00</option>
                                    <option value="14:30">14:30</option>
                                    <option value="15:00">15:00</option>
                                    <option value="15:30">15:30</option>
                                    <option value="16:00">16:00</option>
                                    <option value="16:30">16:30</option>
                                    <option value="17:00">17:00</option>
                                    <option value="17:30">17:30</option>
                                    <option value="18:00">18:00</option>
                                    <option value="18:30">18:30</option>
                                    <option value="19:00">19:00</option>
                                    <option value="19:30">19:30</option>
                                    <option value="20:00">20:00</option>
                                    <option value="20:30">20:30</option>
                                    <option value="21:00">21:00</option>
                                    <option value="21:30">21:30</option>
                                    <option value="22:00">22:00</option>
                                    <option value="22:30">22:30</option>
                                </select>
                            </div>
                            <button type="submit">Reserve</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- RESERVATION -->
    <!-- CONTACT US -->
    <section id="contacts" class="contact-us">
        <div class="contact-us-content col-lg-12 col-md-12 col-sm-12">
            <div class="contact-us-text col-lg-6 col-md-6 col-sm-12">
                <div class="section-heading">
                    <h1>How to Find<br> & Contact Us</h1>
                    <hr>
                </div>
                <div class="info">
                    <div class="info-item">
                        <span>Open Hours</span>
                        <p>@Model.Place.OpenHours</p>
                    </div>
                    <div class="info-item">
                        <span>Address</span>
                        <p>@Model.Place.Address</p>
                    </div>
                    <div class="info-item">
                        <span>Phone</span>
                        <p>@Model.Place.PlacePhone</p>
                    </div>
                </div>
            </div>
            <div class="map col-lg-6 col-md-6 col-sm-12">
                <iframe id="map"
                        src="@Model.Place.PlaceMap"
                        width="600" height="450" frameborder="0" style="border:0;" allowfullscreen=""
                        data-aos="fade-left" data-aos-duration="1300" data-aos-easing="ease-in-out"
                        data-aos-once="true"></iframe>
            </div>
        </div>
    </section>
    <!-- CONTACT US -->
    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content col-lg-12">
                <div class="logo col-sm-12 col-md-5 col-lg-4">
                    <h1><a asp-controller="Places" asp-action="index">Restaurator</a></h1>
                </div>
                <div class="footer-text col-sm-12 col-md-5 col-lg-4">
                    <h6>Baku, Azerbaijan</h6>
                </div>
                <div class="footer-menu col-sm-12 col-md-12 col-lg-4">
                    <ul>
                        <li><a href="#best-dishes">Dishes</a></li>
                        <li><a href="#reservation">Reservation</a></li>
                        <li><a href="#contacts">Contacts</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- FOOTER -->
</div>